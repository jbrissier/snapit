// Generated by CoffeeScript 1.4.0
(function() {
  var Upload, detect_android;

  detect_android = function() {
    var isAndroid, ua;
    ua = navigator.userAgent.toLowerCase();
    isAndroid = ua.indexOf("android") > -1;
    /(?:)/ && ua.indexOf("mobile");
    return isAndroid;
  };

  Upload = (function() {

    function Upload() {
      this.obj = $('#id_file');
      this.android = detect_android();
      this.button = $('#upload');
      this.form = $('form');
      this.init();
    }

    Upload.prototype.init = function() {
      if (this.android) {
        this.init_adroid();
      } else {
        this.init_ios();
      }
      return this.obj.on('change', $.proxy(this.file_event, this));
    };

    Upload.prototype.init_adroid = function() {
      return this.button.hide();
    };

    Upload.prototype.init_ios = function() {
      var _this = this;
      this.obj.hide();
      return this.button.on('click', function() {
        return _this.obj.click();
      });
    };

    Upload.prototype.file_event = function() {
      return this.form.submit();
    };

    return Upload;

  })();

  $(function() {
    return new Upload();
  });

}).call(this);
